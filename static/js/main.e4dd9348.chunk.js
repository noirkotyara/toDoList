(this["webpackJsonptodolist-mkdir"]=this["webpackJsonptodolist-mkdir"]||[]).push([[0],{13:function(t,e,n){t.exports={listUI:"Lists_listUI__-vnkx",content:"Lists_content__1AJGR",newTitle:"Lists_newTitle__3N7g-",tasks:"Lists_tasks__1aGOt",delTitle:"Lists_delTitle__1imay"}},14:function(t,e,n){t.exports={header:"Header_header__2r7ZA",logoName:"Header_logoName__3EjN4",login:"Header_login__1LjQE",preloader:"Header_preloader__2r9TX"}},20:function(t,e,n){t.exports={viewTasks:"Tasks_viewTasks__1scqd",taskItem:"Tasks_taskItem__2ipKA",delete:"Tasks_delete__2EBrm"}},41:function(t,e,n){t.exports={preloader:"Preloader_preloader__3xylh"}},49:function(t,e,n){},50:function(t,e,n){},74:function(t,e,n){"use strict";n.r(e);var r=n(1),a=n(0),s=n.n(a),c=n(21),i=n.n(c),o=(n(49),n(5)),u=(n(50),n(17)),d=n(16),l=n(14),j=n.n(l),f=n.p+"static/media/preloader.9139a1f3.svg",b=n(41),p=n.n(b),O=function(){return Object(r.jsx)("div",{children:Object(r.jsx)("img",{className:p.a.preloader,src:f,alt:"preloader"})})},v=function(t){return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("div",{className:j.a.header,children:[Object(r.jsxs)("div",{className:j.a.preloader,children:["  ",t.isFetching&&Object(r.jsx)(O,{})]}),Object(r.jsx)(d.b,{to:"/todolist",className:j.a.logoName,activeClassName:j.a.activeNavLink,children:"MKdir"}),Object(r.jsx)(d.b,{to:"/login",className:j.a.login,activeClassName:j.a.activeNavLink,children:"Login"})]})})},h=Object(u.b)((function(t){return{isFetching:t.toDoPage.isFetching}}),{})(v),k=n(4),x=n.n(k),m=n(11),g=n(24),T=n(2),_=n(42).create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.1",headers:{"API-KEY":"ebd28442-c10f-47c7-b19b-27d6fc3e2b96"}}),w=function(){return _.get("/todo-lists").then((function(t){return t.data}))},y=function(t){return _.post("/todo-lists",{title:t}).then((function(t){return t.data}))},I=function(t,e){return _.put("/todo-lists/".concat(t),{title:e}).then((function(t){return t.data}))},C=function(t){return _.delete("/todo-lists/".concat(t)).then((function(t){return t.data}))},N=function(t,e){return _.put("/todo-lists/".concat(t,"/reorder"),{putAfterItemId:e}).then((function(t){return t.data}))},L=function(t){return _.get("/todo-lists/".concat(t,"/tasks")).then((function(t){return t.data}))},S=function(t,e){return _.post("/todo-lists/".concat(t,"/tasks"),{title:e}).then((function(t){return t.data}))},E=function(t,e){return _.delete("/todo-lists/".concat(t,"/tasks/").concat(e)).then((function(t){return t.data}))},D=function(t,e,n){return _.put("/todo-lists/".concat(t,"/tasks/").concat(e),n).then((function(t){return t.data}))},A=function(t,e,n){return _.put("/todo-lists/".concat(t,"/tasks/").concat(e,"/reorder"),{putAfterItemId:n}).then((function(t){return t.data}))},F="SET-LISTS",P="CREATE-LIST",R="DELETE-LIST",K="RENAME-LIST",H="IS-FETCH",B="CHANGE-ORD",U={lists:[{id:"9f27f97b-bc63-4114-9baa-c91facbd4ffb",title:"what todo",addedDate:"2019-07-30T12:24:15.063",order:0}],tasks:[],isFetching:!1},G=function(t){return{type:R,todolistId:t}},J=function(t,e){return{type:K,todolistId:t,title:e}},M=function(t){return{type:H,bool:t}},X=function(t,e,n){return{type:B,todolistId:t,putAfterItemId:e,bool:n}},q=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case F:return Object(T.a)(Object(T.a)({},t),{},{lists:e.lists});case P:return Object(T.a)(Object(T.a)({},t),{},{lists:[e.list].concat(Object(g.a)(t.lists))});case R:return Object(T.a)(Object(T.a)({},t),{},{lists:t.lists.filter((function(t){return t.id!==e.todolistId}))});case K:return Object(T.a)(Object(T.a)({},t),{},{lists:t.lists.map((function(t){return t.id===e.todolistId?Object(T.a)(Object(T.a)({},t),{},{title:e.title}):t}))});case H:return Object(T.a)(Object(T.a)({},t),{},{isFetching:e.bool});case B:var n,r,a=t.lists;return a.forEach((function(t,n){t.id===e.todolistId&&(r=n)})),n=a[r],a[r]=a[r+1],a[r+1]=n,Object(T.a)(Object(T.a)({},t),{},{lists:a.map((function(t){return t}))});default:return t}},Q="GET-TASKS",V="POST-TASK",Y="DEL_TASK",Z="UPDATE-TASK",z="REORDER-TASK",W={tasks:[],default:{description:"no desc",completed:!1,status:0,priority:1,startDate:"2020",deadline:"today"}},$=function(t){return{type:Y,taskId:t}},tt=function(t,e){return{type:Z,taskId:t,item:e}},et=function(t){return{type:z,taskId:t}},nt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case Q:return Object(T.a)(Object(T.a)({},t),{},{tasks:e.tasks});case V:return Object(T.a)(Object(T.a)({},t),{},{tasks:[e.taskItem].concat(Object(g.a)(t.tasks))});case Y:return Object(T.a)(Object(T.a)({},t),{},{tasks:t.tasks.filter((function(t){return t.id!==e.taskId}))});case Z:return Object(T.a)(Object(T.a)({},t),{},{tasks:t.tasks.map((function(t){return t.id===e.taskId?e.item:t}))});case z:var n,r,a=t.tasks;return a.forEach((function(t,n){t.id===e.taskId&&(r=n)})),n=a[r],a[r]=a[r+1],a[r+1]=n,Object(T.a)(Object(T.a)({},t),{},{tasks:a.map((function(t){return t}))});default:return t}},rt=n(10),at=n(13),st=n.n(at),ct=n(20),it=n.n(ct),ot=s.a.memo((function(t){var e=Object(a.useState)(""),n=Object(rt.a)(e,2),s=n[0],c=n[1],i=Object(a.useState)(!1),o=Object(rt.a)(i,2),u=o[0],d=o[1],l=Object(a.useState)(""),j=Object(rt.a)(l,2),f=j[0],b=j[1],p=function(e,n){t.reoderTask(t.id,e,n)},O=t.tasks.map((function(e,n,a){if(e.todoListId===t.id)return Object(r.jsx)("div",{className:it.a.taskItem,children:Object(r.jsxs)("div",{children:[u?Object(r.jsx)("input",{autoFocus:!0,onBlur:function(){return n=e.id,d(!u),void t.updateTask(t.id,n,f);var n},onChange:function(t){return e=t.currentTarget.value,void b(e);var e},type:"text",value:f}):Object(r.jsx)("span",{onDoubleClick:function(){return t=e.title,b(t),void d(!u);var t},children:e.title}),Object(r.jsxs)("span",{children:[n<a.length-1&&Object(r.jsx)("input",{onClick:function(){return p(a[n].id,a[n+1].id)},type:"button",value:"-"}),n>0&&Object(r.jsx)("input",{onClick:function(){return p(a[n-1].id,a[n].id)},type:"button",value:"+"})]}),Object(r.jsx)("span",{onClick:function(){return n=e.id,void t.deleteTask(t.id,n);var n},className:it.a.delete,children:"X"})]})},e.id)}));return Object(r.jsxs)("div",{children:[Object(r.jsxs)("div",{children:[Object(r.jsx)("textarea",{value:s,onChange:function(t){return e=t.currentTarget.value,void c(e);var e},cols:"30"}),Object(r.jsx)("input",{onClick:function(){t.postTasks(t.id,s),c("")},type:"button",value:"Add"})]}),Object(r.jsx)("div",{children:O})]})})),ut=s.a.memo((function(t){var e=Object(a.useState)(!1),n=Object(rt.a)(e,2),s=n[0],c=n[1];return Object(r.jsxs)("div",{children:[Object(r.jsx)("span",{className:it.a.viewTasks,onClick:function(){return e=t.id,c(!s),void t.getTasks(e);var e},children:"View tasks"}),s&&Object(r.jsx)("div",{children:Object(r.jsx)(ot,Object(T.a)({},t))})]})})),dt=function(t){var e=Object(a.useState)(!1),n=Object(rt.a)(e,2),s=n[0],c=n[1],i=Object(a.useState)(1),o=Object(rt.a)(i,2),u=o[0],d=o[1],l=Object(a.useState)(""),j=Object(rt.a)(l,2),f=j[0],b=j[1],p=function(){t.renameTitle(u,f),c(!1),b("")},O=function(e,n,r){t.changeOrder(e,n,r)},v=t.lists.map((function(e,n,a){var i=new Date(e.addedDate);return Object(r.jsxs)("div",{className:st.a.listUI,children:[Object(r.jsxs)("div",{className:st.a.title,children:[Object(r.jsx)("span",{children:s&&e.id===u?Object(r.jsx)("input",{onBlur:p,autoFocus:!0,onChange:function(t){return b(t.currentTarget.value)},value:f}):Object(r.jsx)("span",{onDoubleClick:function(){return t=e.title,n=e.id,d(n),b(t),void c(!0);var t,n},children:e.title})}),Object(r.jsx)("span",{onClick:function(){return n=e.id,void t.deleteList(n);var n},className:st.a.delTitle,children:"X"})]}),Object(r.jsx)("div",{className:st.a.tasks,children:Object(r.jsx)("div",{children:Object(r.jsx)(ut,{postTasks:t.postTasks,deleteTask:t.deleteTask,getTasks:t.getTasks,id:e.id,reoderTask:t.reoderTask,updateTask:t.updateTask,tasks:t.tasks})})}),Object(r.jsxs)("div",{children:[n<a.length-1&&Object(r.jsx)("input",{onClick:function(){return O(a[n].id,a[n+1].id,!1)},type:"button",value:"-"}),n>0&&Object(r.jsx)("input",{onClick:function(){return O(a[n-1].id,a[n].id,!0)},type:"button",value:"+"})]}),Object(r.jsx)("div",{className:st.a.addedDate,children:i.toDateString()})]},e.id)}));return Object(r.jsx)(r.Fragment,{children:v})},lt=s.a.memo((function(t){var e=Object(a.useState)(""),n=Object(rt.a)(e,2),s=n[0],c=n[1];Object(a.useEffect)((function(){t.getLists()}),[]);return Object(r.jsxs)("div",{children:[Object(r.jsxs)("div",{className:st.a.newTitle,children:[Object(r.jsx)("span",{className:st.a.textTitle,children:"Enter new title"}),Object(r.jsxs)("div",{children:[Object(r.jsx)("textarea",{value:s,onChange:function(t){return e=t.currentTarget.value,void c(e);var e},cols:"30"}),Object(r.jsx)("input",{onClick:function(){t.postList(s),c("")},type:"button",value:"Create"})]})]}),Object(r.jsx)("div",{className:st.a.content,children:Object(r.jsx)(dt,Object(T.a)({},t))})]})})),jt=Object(u.b)((function(t){return{lists:t.toDoPage.lists,isFetching:t.toDoPage.isFetching,tasks:t.toDoTasksPage.tasks}}),{getLists:function(){return function(){var t=Object(m.a)(x.a.mark((function t(e){var n;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(M(!0)),t.next=3,w();case 3:n=t.sent,e(M(!1)),0!==n.length&&e({type:F,lists:n});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},postList:function(t){return function(){var e=Object(m.a)(x.a.mark((function e(n){var r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(t);case 2:0===(r=e.sent).resultCode&&n((a=r.data.item,{type:P,list:a}));case 4:case"end":return e.stop()}var a}),e)})));return function(t){return e.apply(this,arguments)}}()},deleteList:function(t){return function(){var e=Object(m.a)(x.a.mark((function e(n){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C(t);case 2:0===e.sent.resultCode&&n(G(t));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},renameTitle:function(t,e){return function(){var n=Object(m.a)(x.a.mark((function n(r){return x.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,I(t,e);case 2:0===n.sent.resultCode&&r(J(t,e));case 4:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()},getTasks:function(t){return function(){var e=Object(m.a)(x.a.mark((function e(n){var r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L(t);case 2:r=e.sent,n((a=r.items,{type:Q,tasks:a}));case 4:case"end":return e.stop()}var a}),e)})));return function(t){return e.apply(this,arguments)}}()},changeOrder:function(t,e,n){return function(){var r=Object(m.a)(x.a.mark((function r(a){return x.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,N(t,e);case 2:0===r.sent.resultCode&&a(X(t,e,n));case 4:case"end":return r.stop()}}),r)})));return function(t){return r.apply(this,arguments)}}()},postTasks:function(t,e){return function(){var n=Object(m.a)(x.a.mark((function n(r){var a;return x.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,S(t,e);case 2:0===(a=n.sent).resultCode&&r((s=a.data.item,{type:V,taskItem:s}));case 4:case"end":return n.stop()}var s}),n)})));return function(t){return n.apply(this,arguments)}}()},deleteTask:function(t,e){return function(){var n=Object(m.a)(x.a.mark((function n(r){return x.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,E(t,e);case 2:0===n.sent.resultCode&&r($(e));case 4:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()},updateTask:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"no desc",a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1,i=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"2020-12-06T13:06:41.327",o=arguments.length>8&&void 0!==arguments[8]?arguments[8]:"2020-12-06T13:06:41.327";return function(){var u=Object(m.a)(x.a.mark((function u(d){var l,j;return x.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return l={title:n,description:r,completed:a,status:s,priority:c,startDate:i,deadline:o},u.next=3,D(t,e,l);case 3:0===(j=u.sent).resultCode&&d(tt(e,j.data.item));case 5:case"end":return u.stop()}}),u)})));return function(t){return u.apply(this,arguments)}}()},reoderTask:function(t,e,n){return function(){var r=Object(m.a)(x.a.mark((function r(a){return x.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,A(t,e,n);case 2:0===r.sent.resultCode&&a(et(e));case 4:case"end":return r.stop()}}),r)})));return function(t){return r.apply(this,arguments)}}()}})(lt);var ft=function(){return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("header",{children:Object(r.jsx)(h,{})}),Object(r.jsx)("div",{children:Object(r.jsx)(o.a,{path:"/todolist",render:function(){return Object(r.jsx)(jt,{})}})})]})},bt=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,75)).then((function(e){var n=e.getCLS,r=e.getFID,a=e.getFCP,s=e.getLCP,c=e.getTTFB;n(t),r(t),a(t),s(t),c(t)}))},pt=n(43),Ot=n(27),vt=Ot.combineReducers,ht=Ot.createStore,kt=Ot.applyMiddleware,xt=ht(vt({toDoPage:q,toDoTasksPage:nt}),kt(pt.a));i.a.render(Object(r.jsx)(d.a,{children:Object(r.jsx)(u.a,{store:xt,children:Object(r.jsx)(ft,{})})}),document.getElementById("root")),bt()}},[[74,1,2]]]);
//# sourceMappingURL=main.e4dd9348.chunk.js.map